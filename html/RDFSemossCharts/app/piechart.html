<html>
<head>
    <script src="lib/jquery/jquery-1.8.3.min.js"></script>
    <script src="lib/highcharts4.0.4.js"></script>
    <script src="js/semoss.js"></script>
    
    <script>
        function start(data) {
            var dataObject = jQuery.parseJSON( data );

            $('#highchartsPieChart').highcharts({
                chart: {
                    type: 'pie'
                },
                title: {
                    text: dataObject.title
                },
                subtitle: {
                    text: ""
                },
                plotOptions: {
                    series: {
                        dataLabels: {
                            enabled: true,
                            format: '{point.name}: {point.y:.1f}%'
                        }
                    }
                },
                tooltip: {
                    //headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                    //pointFormat: '<span style="color:{point.color}">{point.fullname}</span>: <b>{point.value}</b><br/>'
                    headerFormat: '',
                    pointFormat: '<span class="userCanResize">{point.fullname}: <b>{point.value}</b><br/></span>'
                },
                series: [{
                    name: "",
                    colorByPoint: true,
                    data: dataObject.dataSeries
                }]
            });

            //Hack to remove the autogenerated link back to the site of the graph plugin
            $( "div.highcharts-container svg text" ).each(function( index ) {
                if ($( this ).text() == "Highcharts.com")
                    $( this ).remove();
            });

        };

        //for unit testing outside the app, uncomment the start() call
        $( document ).ready(function() {
            var dataHC = '{"dataSeries":[{"name":"Ensure Documentation...","y":1.8967336,"fullname":"Ensure Documentation Standards","value":"0.018967334035827187"},{"name":"Administer Health Ri...","y":1.8967336,"fullname":"Administer Health Risk Screening","value":"0.018967334035827187"},{"name":"Admit Patient","y":1.8967336,"fullname":"Admit Patient","value":"0.018967334035827187"},{"name":"Assess Appropriate B...","y":1.8967336,"fullname":"Assess Appropriate Beneficiary Care Services","value":"0.018967334035827187"},{"name":"Check-In Patient","y":1.8967336,"fullname":"Check-In Patient","value":"0.018967334035827187"},{"name":"Conduct Beneficiary ...","y":1.8967336,"fullname":"Conduct Beneficiary and Family Education","value":"0.018967334035827187"},{"name":"Conduct Epidemiologi...","y":0.6322445,"fullname":"Conduct Epidemiological Investigations of Clinical Health","value":"0.006322444678609062"},{"name":"Coordinate Workflow ...","y":0.6322445,"fullname":"Coordinate Workflow and Case Management Procedures","value":"0.006322444678609062"},{"name":"Create Data Reposito...","y":0.6322445,"fullname":"Create Data Repositories and Data Marts","value":"0.006322444678609062"},{"name":"Create Order Templat...","y":1.8967336,"fullname":"Create Order Templates","value":"0.018967334035827187"},{"name":"Determine Public Hea...","y":0.6322445,"fullname":"Determine Public Health Risk Alerts for Certain Populations","value":"0.006322444678609062"},{"name":"Develop and Manage H...","y":0.6322445,"fullname":"Develop and Manage Health Risk Screening Procedures","value":"0.006322444678609062"},{"name":"Direct Care Record M...","y":1.8967336,"fullname":"Direct Care Record Management Services","value":"0.018967334035827187"},{"name":"Discharge and Transf...","y":1.8967336,"fullname":"Discharge and Transfer Patient","value":"0.018967334035827187"},{"name":"Document Care Plans ...","y":1.8967336,"fullname":"Document Care Plans and Delivery of Service","value":"0.018967334035827187"},{"name":"Enable Care Team to ...","y":1.8967336,"fullname":"Enable Care Team to Access Beneficiary Health Information","value":"0.018967334035827187"},{"name":"Enable Inter-Provide...","y":1.8967336,"fullname":"Enable Inter-Provider Communications","value":"0.018967334035827187"},{"name":"Environmental Medici...","y":0.6322445,"fullname":"Environmental Medicine","value":"0.006322444678609062"},{"name":"Establish Standards ...","y":1.8967336,"fullname":"Establish Standards Based Data Interchange","value":"0.018967334035827187"},{"name":"Evaluate Beneficiary...","y":1.8967336,"fullname":"Evaluate Beneficiary Health Status","value":"0.018967334035827187"},{"name":"Facilitate Communica...","y":1.8967336,"fullname":"Facilitate Communications Between Provider and Patient","value":"0.018967334035827187"},{"name":"Facilitate Patient M...","y":1.8967336,"fullname":"Facilitate Patient Movement","value":"0.018967334035827187"},{"name":"Forecast Resource Ut...","y":0.6322445,"fullname":"Forecast Resource Utilization","value":"0.006322444678609062"},{"name":"Identify Public Heal...","y":0.6322445,"fullname":"Identify Public Health Threats","value":"0.006322444678609062"},{"name":"Initiate Care Plan a...","y":1.8967336,"fullname":"Initiate Care Plan and Perform Intervention Service","value":"0.018967334035827187"},{"name":"Maintain Accurate Be...","y":1.8967336,"fullname":"Maintain Accurate Beneficiary Information","value":"0.018967334035827187"},{"name":"Maintain Beneficiary...","y":1.8967336,"fullname":"Maintain Beneficiary Health Profile","value":"0.018967334035827187"},{"name":"Manage Beneficiary E...","y":1.8967336,"fullname":"Manage Beneficiary Eligibility Process","value":"0.018967334035827187"},{"name":"Manage Beneficiary R...","y":1.8967336,"fullname":"Manage Beneficiary Referral Process","value":"0.018967334035827187"},{"name":"Manage Health Record...","y":1.8967336,"fullname":"Manage Health Records","value":"0.018967334035827187"},{"name":"Manage Medical Summa...","y":1.8967336,"fullname":"Manage Medical Summary Lists","value":"0.018967334035827187"},{"name":"Manage Orders and Re...","y":1.8967336,"fullname":"Manage Orders and Referrals","value":"0.018967334035827187"},{"name":"Manage Patient Prefe...","y":1.8967336,"fullname":"Manage Patient Preferences and Directives Management","value":"0.018967334035827187"},{"name":"Provide Identity and...","y":1.8967336,"fullname":"Provide Identity and Access Management (IAM)","value":"0.018967334035827187"},{"name":"Track Procedures","y":1.8967336,"fullname":"Track Procedures","value":"0.018967334035827187"},{"name":"Access Appropriate G...","y":1.5806115,"fullname":"Access Appropriate Guidelines, Protocols to Determine Most Appropriate Intervention","value":"0.015806111696522657"},{"name":"Manage Procurement","y":0.6322445,"fullname":"Manage Procurement","value":"0.006322444678609062"},{"name":"Management of Blood ...","y":0.6322445,"fullname":"Management of Blood and Blood Product Inventories","value":"0.006322444678609062"},{"name":"Monitor and Ensure Q...","y":0.6322445,"fullname":"Monitor and Ensure Quality and Appropriateness of Services","value":"0.006322444678609062"},{"name":"Monitor and Recommen...","y":0.6322445,"fullname":"Monitor and Recommend Adjustments to Internal Programs","value":"0.006322444678609062"},{"name":"Monitor Medical Perf...","y":0.6322445,"fullname":"Monitor Medical Performance","value":"0.006322444678609062"},{"name":"Notify Population of...","y":0.6322445,"fullname":"Notify Population of Health Risks","value":"0.006322444678609062"},{"name":"Operate National Cen...","y":0.6322445,"fullname":"Operate National Center for Health Promotion and Disease Prevention","value":"0.006322444678609062"},{"name":"Perform Cost Account...","y":0.6322445,"fullname":"Perform Cost Accounting","value":"0.006322444678609062"},{"name":"Plan Treatment","y":1.8967336,"fullname":"Plan Treatment","value":"0.018967334035827187"},{"name":"Provide Ancillary Me...","y":1.264489,"fullname":"Provide Ancillary Medical Services","value":"0.012644889357218124"},{"name":"Provide Automated Su...","y":1.8967336,"fullname":"Provide Automated Support for Patient Assessments","value":"0.018967334035827187"},{"name":"Provide Beneficiarie...","y":1.8967336,"fullname":"Provide Beneficiaries Clinical Communication Support","value":"0.018967334035827187"},{"name":"Provide Communicatio...","y":1.8967336,"fullname":"Provide Communications with Medical Devices","value":"0.018967334035827187"},{"name":"Provide Direct Care ...","y":1.8967336,"fullname":"Provide Direct Care Services","value":"0.018967334035827187"},{"name":"Provide Disease Outb...","y":0.6322445,"fullname":"Provide Disease Outbreak Detection","value":"0.006322444678609062"},{"name":"Provide Electronic I...","y":1.8967336,"fullname":"Provide Electronic Information Exchange Between Provider and Pharmacy","value":"0.018967334035827187"},{"name":"Provide Health Maint...","y":1.6859854,"fullname":"Provide Health Maintenance","value":"0.01685985247629083"},{"name":"Provide Immunization...","y":1.8967336,"fullname":"Provide Immunization and Medication Alerts","value":"0.018967334035827187"},{"name":"Provide Interoperabl...","y":1.8967336,"fullname":"Provide Interoperable Appointment Scheduling","value":"0.018967334035827187"},{"name":"Provide Interoperabl...","y":1.8967336,"fullname":"Provide Interoperable Orders Management","value":"0.018967334035827187"},{"name":"Provide Medication a...","y":1.8967336,"fullname":"Provide Medication and Immunization Formulary","value":"0.018967334035827187"},{"name":"Provide Positive Pat...","y":1.8967336,"fullname":"Provide Positive Patient Identification","value":"0.018967334035827187"},{"name":"Provide Recorded Pat...","y":1.8967336,"fullname":"Provide Recorded Patient Specific Instructions","value":"0.018967334035827187"},{"name":"Provide Regulatory C...","y":0.6322445,"fullname":"Provide Regulatory Compliance Assurance","value":"0.006322444678609062"},{"name":"Provide Support for ...","y":0.6322445,"fullname":"Provide Support for Notification and Response","value":"0.006322444678609062"},{"name":"Provide Syndromic Su...","y":0.6322445,"fullname":"Provide Syndromic Surveillance","value":"0.006322444678609062"},{"name":"Provide Vocabulary a...","y":1.8967336,"fullname":"Provide Vocabulary and Messaging Standards","value":"0.018967334035827187"},{"name":"Share Health Data th...","y":1.8967336,"fullname":"Share Health Data through Partner Collaboration and Information Exchange","value":"0.018967334035827187"},{"name":"Support Compliance A...","y":1.8967336,"fullname":"Support Compliance Activity","value":"0.018967334035827187"},{"name":"Support Results Inte...","y":1.8967336,"fullname":"Support Results Interpretation","value":"0.018967334035827187"},{"name":"Develop and Implemen...","y":0.6322445,"fullname":"Develop and Implement Measurement Data Collection, Analysis, and Reporting Procedures","value":"0.006322444678609062"},{"name":"Maintain Policies, P...","y":0.6322445,"fullname":"Maintain Policies, Procedures, and Monitoring of Care Issues","value":"0.006322444678609062"}],"title":"Pick a BP and show pie chart of clinical relevance scores for the activities under selected BP"}';
//            start(dataHC);
        });
    </script>
</head>

<body>
    <div id='highchartsPieChart' class="userCanResize"></div>    
</body>

</html>
